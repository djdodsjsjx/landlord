## Qt斗地主开发

### 1. Card类
单张卡牌类，提供了设置卡牌的点数和花色

### 2. CardPanel类
卡牌窗口类，提供了设置和获取卡牌的图片、卡牌是否被选中以及卡牌的所属者，`paintEvent`和`mousePressEvent`分别为图形绘制事件和鼠标点击事件

### 3. Cards类
多张卡牌类，提供了添加和删除卡牌、卡牌数量、卡牌组是否为空、获取最大/小卡牌点数、相同点数的卡牌的数量、卡牌覆盖以及卡牌排序等函数。

### 4. Player类
玩家基类，提供了设置/获取玩家属性(昵称、性别、角色、方向、得分等)、玩家手中牌、打出的牌、准备叫地主/出牌(用于机器人类创建线程)和等待叫地主/出牌。

### 5. UserPlayer类
继承于Player类，用户进行操作

### 6. Robot类
继承于Player类，机器人类通过创建子线程执行叫地主和出牌任务，同时需要根据手上牌的质量创建一个策略合理的叫地主和出牌。

### 7. GameControl类
游戏控制类，包括了游戏玩家的创建、发牌、叫地主和出牌(暂未实现)等接口。通过信号实现游戏控制类和玩家类的通信。同时还需要实现于界面的通信(暂未实现)。

### 8. MyButton类
自定义的按钮类，实现鼠标左击/松开和鼠标经过时加载不同对应图片。

### 9. ButtonGroup类
按钮组类，使用stackedWidget在不同的游戏阶段加载各按钮组，分别有开始游戏按钮组、发牌按钮组、叫地主按钮组、出牌按钮组、不显示按钮组。

### 10. ScorePanel类
游戏分数面板类，用于显示三个玩家的分数。

### 11. PlayerGanel类
1. 游戏主界面，在主界面中添加上述类，并完成发牌操作。发牌具体流程：用户点击开始游戏，会触发`Button`中的`clicked`信号，接着触发`ButtonGroup`类中的`startGame`信号，最终被`PlayerGanel`类接受，切换按钮组类型为控制，游戏类型为发牌，开启发牌定时器，开始发牌。
2. 实现玩家的抢地主流程，现阶段机器人玩家不能通过相应的游戏策略确定牌型策略(本次将玩家叫地主设置为不抢过程)。抢地主流程：完成发牌后，游戏状态切换至抢地主状态，并将玩家状态设置为叫地主状态(如果玩家为用户玩家，将显示抢地主按钮组)，用户玩家拥有优先权，点击叫地主按钮后通知游戏控制类进行抢地主策略决策，并在游戏界面显示抢地主信息，将玩家设置为下一个机器人玩家，机器人玩家会创建一个子线程进行进行抢地主。
3. 添加用户卡牌点击和框选功能
4. 添加用户出牌功能，机器人出牌和接牌功能尚未实现。用户出牌流程：完成叫地主后，游戏和玩家的状态变为出牌状态，若玩家抢到地主，则会在主界面显示用户出牌按钮，当用户选中需要出的卡牌再点击出牌按钮，会发送信号给按钮组，按钮组转发给主界面，触发onPlayHand事件，再该函数中，会根据PlayHand::HandType判断出牌牌型是否正确，接着通知玩家类出牌，玩家类接受信号，更新手上的牌并发送给信号notifyPlayHand给游戏控制类牌已出完，游戏控制类接收到转发信号notifyPlayHand(设置下一个玩家为出牌玩家暂未实现)给主界面，主界面接受到信号后，触发onPlayHandShow事件对玩家上下文进行更新(手上的牌和打出的牌)。

## 12. RobotGrapLord类
玩家类抢地主线程

## 13. PlayHand类
卡牌类型类，分别根据数量和牌型进行分类

## 14. Strategy类
机器人出牌策略类，包括首次出牌、接牌策略，需要根据出牌人和下一个玩家是否为同伙指定不同的出牌策略。
1. 首次出牌策略：依次从顺子、连对、飞机、三带判断，若存在则优先出这类牌，最终再出单牌和对子，若下一家是对家且牌数少，则优先出大单牌和对子。
2. 接牌策略：若出牌玩家是对家且剩余牌量少则优先出炸弹，若下一个玩家是对家且剩余牌量少则找较大的牌进行压牌
3. 从一堆牌中找出最优的顺子进行出牌，，第一步，在这堆牌中找到所有顺子的组合(回溯搜索)，第二部从这些顺子组合中，找一个最好的组合(出完所有顺子后，剩余的单牌较少且)

## 15. AniamtionWindow类
用于显示抢地主抢分和出牌类型(暂未实现)相关提示。